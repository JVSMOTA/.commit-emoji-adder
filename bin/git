#!/usr/bin/env bash

# Script to add emojis to commit messages

# Function to get emoji based on commit type
get_emoji() {
    case "$1" in
        feat)     echo "âœ¨" ;;
        fix)      echo "ğŸ›" ;;
        chore)    echo "ğŸ”§" ;;
        docs)     echo "ğŸ“" ;;
        style)    echo "ğŸ’„" ;;
        refactor) echo "â™»ï¸" ;;
        test)     echo "âœ…" ;;
        perf)     echo "ğŸš€" ;;
        ci)       echo "ğŸ‘·" ;;
        build)    echo "ğŸ—ï¸" ;;
        revert)   echo "âª" ;;
        init)     echo "ğŸ‰" ;;
        *)        echo "" ;;
    esac
}

# Check if the command is 'git commit -m'
if [ "$1" = "commit" ] && [ "$2" = "-m" ]; then
    if [ "$3" = "?" ]; then
        # Show types of commit messages
        ~/.commit-emoji-adder/bin/commit
    else
        commit_message="$3"

        # Get the commit type (the part before the first space)
        commit_type=$(echo "$commit_message" | awk '{print $1}')

        # Get the corresponding emoji
        emoji=$(get_emoji "$commit_type")

        # Add emoji to the commit message
        command git commit -m "$emoji $commit_message"
    fi
else
    # Use the original git command for other cases
    command git "$@"
fi

