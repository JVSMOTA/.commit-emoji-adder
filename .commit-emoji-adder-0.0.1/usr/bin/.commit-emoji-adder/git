#!/usr/bin/env bash

# Script to add emojis to commit messages

# Function to get emoji based on commit type
get_emoji() {
    local message="$1"

    case "$message" in
        feat*)      echo "âœ¨" ;;
        fix*)       echo "ğŸ›" ;;
        chore*)     echo "ğŸ”§" ;;
        docs*)      echo "ğŸ“" ;;
        style*)     echo "ğŸ’„" ;;
        refactor*)  echo "â™»ï¸" ;;
        test*)      echo "âœ…" ;;
        perf*)      echo "ğŸš€" ;;
        ci*)        echo "ğŸ‘·" ;;
        build*)     echo "ğŸ—ï¸" ;;
        revert*)    echo "âª" ;;
        init*)      echo "ğŸ‰" ;;
        *)          echo "" ;;
    esac
}

# Main script logic
if [ "$1" = "commit" ] && [ "$2" = "-m" ]; then
    if [ "$3" = "?" ]; then
        # Show types of commit message
        ~/../../usr/bin/.commit-emoji-adder/commit
    else
        commit_message="$3"
        emoji=$(get_emoji "$commit_message")
        # Add emoji to commit message
        command git commit -m "$emoji $commit_message"
    fi
else
    # Use the original git command for other cases
    command git "$@"
fi
